<enhanced_prompt>\n  <role>Senior full-stack developer with expertise in payment systems architecture and user experience design</role>\n  \n  <project_type>Comprehensive token-based payment system with Stripe integration</project_type>\n  \n  <core_vision>\n    <essence>Create a secure, transparent token economy that makes users feel confident about their purchases and clear about their usage, with enterprise-grade reliability backing every transaction.</essence>\n  </core_vision>\n  \n  <experience_requirements>\n    <security_feeling>Users should feel completely secure and trust the payment process</security_feeling>\n    <visual_clarity>Clean, professional interface with prominent token balance display</visual_clarity>\n    <user_guidance>Guide users to confident purchase decisions through transparent value communication</user_guidance>\n    <interaction_principle>Every interaction reinforces system reliability and fair value exchange</interaction_principle>\n  </experience_requirements>\n  \n  <technical_implementation>\n    <payment_integration scope=\"production-ready\">\n      <requirement>Implement Stripe Checkout with webhook handling for secure token delivery</requirement>\n      <requirement>Include proper error handling and PCI compliance measures</requirement>\n    </payment_integration>\n    \n    <database_architecture depth=\"comprehensive\">\n      <requirement>Design user token balance tables with transaction history</requirement>\n      <requirement>Include usage logs and audit trails for complete financial transparency</requirement>\n    </database_architecture>\n    \n    <token_management precision=\"real-time\">\n      <requirement>Create atomic token deduction systems preventing race conditions</requirement>\n      <requirement>Provide instant balance updates after each optimization</requirement>\n    </token_management>\n    \n    <user_interface completeness=\"intuitive\">\n      <requirement>Display current token balance prominently in user dashboard</requirement>\n      <requirement>Show per-optimization costs clearly before usage</requirement>\n      <requirement>Provide easy access to purchase history and usage analytics</requirement>\n    </user_interface>\n    \n    <package_structure approach=\"strategic\">\n      <tier name=\"Starter\" price=\"$10\" tokens=\"15\" rate=\"$0.67 each\" target=\"Perfect for trying it out\"/>\n      <tier name=\"Regular\" price=\"$25\" tokens=\"50\" rate=\"$0.50 each\" target=\"Most popular for regular users\" highlight=\"true\"/>\n      <tier name=\"Pro\" price=\"$50\" tokens=\"125\" rate=\"$0.40 each\" target=\"Best value per optimization\"/>\n      <tier name=\"Power\" price=\"$100\" tokens=\"300\" rate=\"$0.33 each\" target=\"For heavy daily users\"/>\n    </package_structure>\n    \n    <security_implementation standards=\"banking-grade\">\n      <requirement>Use Stripe webhooks for token delivery verification</requirement>\n      <requirement>Implement idempotency keys for all payment operations</requirement>\n      <requirement>Secure all token operations with proper authentication</requirement>\n    </security_implementation>\n    \n    <usage_tracking depth=\"analytical\">\n      <requirement>Log every token transaction with timestamps and user context</requirement>\n      <requirement>Include optimization details for business intelligence</requirement>\n      <requirement>Enable comprehensive user support through detailed logs</requirement>\n    </usage_tracking>\n  </technical_implementation>\n  \n  <success_criteria>\n    <payment_reliability>Users complete purchases with 95%+ success rate</payment_reliability>\n    <system_performance>Token balances update instantly and accurately</system_performance>\n    <financial_integrity>Zero token accounting discrepancies</financial_integrity>\n    <user_satisfaction>Users report high confidence in the payment system</user_satisfaction>\n    <scalability>Handle concurrent users seamlessly while maintaining ACID compliance</scalability>\n  </success_criteria>\n</enhanced_prompt>